<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Cotizaciones</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    
    <style>
        .input-width { width: 300px; }
        .form-width { min-width: 600px; max-width: 1200px; }
        
        @media print, screen {
            .preview-mode .form-control,
            .preview-mode .form-select {
                border: none !important;
                background-color: transparent !important;
                padding-left: 0;
                resize: none;
            }
            
            .preview-mode input[type=number]::-webkit-inner-spin-button, 
            .preview-mode input[type=number]::-webkit-outer-spin-button { 
                -webkit-appearance: none; margin: 0; 
            }

            .preview-mode .no-print, 
            .preview-mode #btn-add-item,
            .preview-mode .action-col {
                display: none !important;
            }

            .preview-mode hr {
                border-color: #000 !important;
                opacity: 1;
            }
        }

        @media print {
            .no-print, #btn-add-item, .action-col { display: none !important; }
            input, select, textarea { border: none !important; background: transparent !important; resize: none; }
            .container-lg { border: none !important; width: 100%; max-width: 100%; }
            body { margin: 0; padding: 0; }
        }
    </style>
</head>

<body>
    <div class="border border-1 border-secondary p-0 form-width container-lg bg-white my-4" id="content-to-print">
        <h1 class="bg-body-secondary fs-2 fw-bold p-2 m-0 text-center">Generar nueva cotización</h1>
        
        <div class="p-2">
            <h2 class="fs-3">Datos del emisor</h2>
            <div class="d-flex flex-wrap flex-row align-items-center justify-content-between gap-2 mx-2">
                <div class="input-width">
                    <label for="nombre-emisor" class="form-label fw-bold">Nombre/Razón Social:</label>
                    <input type="text" id="nombre-emisor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="rut-emisor" class="form-label fw-bold">RUT:</label>
                    <input type="text" maxlength="9" id="rut-emisor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="responsable-emisor" class="form-label fw-bold">Persona a Cargo:</label>
                    <input type="text" id="responsable-emisor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="telefono-emisor" class="form-label fw-bold">Teléfono:</label>
                    <input type="tel" maxlength="9" id="telefono-emisor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="email-emisor" class="form-label fw-bold">Correo Electrónico:</label>
                    <input type="email" id="email-emisor" class="form-control border border-black">
                </div>
                <div class="input-width"></div> </div>
            <hr class="border border-2 border-black">
        </div>

        <div class="p-2">
            <h2 class="fs-3">Información de cotización</h2>
            <div class="d-flex flex-wrap flex-row align-items-center justify-content-between gap-2 mx-2">
                <div class="input-width">
                    <label for="numero-cotizacion" class="form-label fw-bold">Número de cotización:</label>
                    <input type="number" id="numero-cotizacion" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="fecha-cotizacion" class="form-label fw-bold">Fecha:</label>
                    <input type="date" id="fecha-cotizacion" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="validez-unidad" class="form-label fw-bold">Validez (Cantidad):</label>
                    <input type="number" id="validez-unidad" class="form-control border border-black" placeholder="Ej: 15">
                </div>
                <div class="input-width">
                    <label for="validez-medida" class="form-label fw-bold">Validez (Medida):</label>
                    <select id="validez-medida" class="form-select border border-black">
                        <option value="horas">Horas</option>
                        <option value="dias" selected>Días</option>
                        <option value="semanas">Semanas</option>
                        <option value="meses">Meses</option>
                        <option value="anios">Años</option>
                    </select>
                </div>
            </div>
            <hr class="border border-2 border-black">
        </div>
        
        <div class="p-2">
            <h2 class="fs-3">Datos del receptor</h2>
            <div class="d-flex flex-wrap flex-row align-items-center justify-content-between gap-2 mx-2">
                <div class="input-width">
                    <label for="nombre-receptor" class="form-label fw-bold">Nombre/Razón Social:</label>
                    <input type="text" id="nombre-receptor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="rut-receptor" class="form-label fw-bold">RUT:</label>
                    <input type="text" maxlength="9" id="rut-receptor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="direccion-receptor" class="form-label fw-bold">Dirección:</label>
                    <input type="text" id="direccion-receptor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="telefono-receptor" class="form-label fw-bold">Teléfono:</label>
                    <input type="tel" id="telefono-receptor" class="form-control border border-black">
                </div>
                <div class="input-width">
                    <label for="email-receptor" class="form-label fw-bold">Correo Electrónico:</label>
                    <input type="email" id="email-receptor" class="form-control border border-black">
                </div>
                <div class="input-width"></div>
            </div>
            <hr class="border border-2 border-black">
        </div>
        
        <div class="p-2">
            <h2 class="fs-3">Servicios</h2>
            <div class="table-responsive">
                <table class="table table-bordered border-black align-middle" id="tabla-items">
                    <thead class="bg-body-secondary text-center">
                        <tr>
                            <th style="width: 50px;">#</th>
                            <th>Descripción</th>
                            <th style="width: 150px;">Precio</th>
                            <th style="width: 120px;">Cantidad</th>
                            <th style="width: 150px;">Total</th>
                            <th style="width: 140px;" class="action-col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="items-body">
                        </tbody>
                </table>
            </div>
            <button type="button" class="btn btn-primary" id="btn-add-item">
                + Añadir Item
            </button>
            
            <div class="row mt-4">
    <div class="col-7">
        <div class="form-check mb-2">
            <input class="form-check-input border-black" type="checkbox" id="chk-no-iva">
            <label class="form-check-label fw-bold" for="chk-no-iva">
                No quiero aplicar el IVA
            </label>
        </div>

        <label for="observaciones" class="form-label fw-bold">Observaciones:</label>
        <textarea id="observaciones" class="form-control border-black" rows="4" placeholder="Ingrese observaciones aquí..."></textarea>
    </div>
    <div class="col-5">
        <table class="table table-bordered border-black">
            <tr>
                <td class="bg-body-secondary fw-bold text-end">Subtotal:</td>
                <td><input type="text" id="subtotal" class="form-control border-0 bg-transparent text-end" readonly value="$0"></td>
            </tr>
            <tr>
                <td class="bg-body-secondary fw-bold text-end">IVA (19%):</td>
                <td><input type="text" id="iva" class="form-control border-0 bg-transparent text-end" readonly value="$0"></td>
            </tr>
            <tr>
                <td class="bg-body-secondary fw-bold text-end">Total:</td>
                <td><input type="text" id="total-final" class="form-control border-0 bg-transparent fw-bold text-end fs-5" readonly value="$0"></td>
            </tr>
        </table>
    </div>
</div>
            
            <hr class="border border-2 border-black">
        </div>
        
        <div class="p-2 pb-4 no-print text-center">
            <div class="d-flex flex-row align-items-center justify-content-center gap-2">
                <button class="btn btn-warning" onclick="action('preview')">Continuar</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>